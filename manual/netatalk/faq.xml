<?xml version="1.0" encoding="UTF-8"?>
<chapter id="FAQ">
  <title>FAQ</title>

  <sect1>
    <title>Where can I get more information on Netatalk?</title>

    <para>Netatalk's home page can be found at:</para>

    <para><ulink
    url="http://netatalk.sourceforge.net/">http://netatalk.sourceforge.net/</ulink></para>

    <para>Netatalk is maintained at SourceForge. The Netatalk project page on
    SourceForge is located at:</para>

    <para><ulink
    url="http://sourceforge.net/projects/netatalk/">http://sourceforge.net/projects/netatalk/</ulink></para>

    <para>There are (at least) two very active e-mail lists to which you can
    subscribe. The first, netatalk-admins, is for usage and setup/compile
    questions. Subscription information as well as an archive are available
    at:</para>

    <para><ulink
    url="http://lists.sourceforge.net/lists/listinfo/netatalk-admins">http://lists.sourceforge.net/lists/listinfo/netatalk-admins</ulink></para>

    <para>This can be very high volume, but usually a few messages a
    day.</para>

    <para>Netatalk-devel list is more specific to coding and testing. The
    archive and more information can found at:</para>

    <para><ulink
    url="???">http://lists.sourceforge.net/lists/listinfo/netatalk-devel</ulink></para>

    <para>This list varies in volume, but is usually moderately active.</para>
  </sect1>

  <sect1>
    <title>What is this I keep seeing about asun?</title>

    <para>Before Netatalk moved to SourceForge, Adrian Sun (asun) had written
    some patches to Netatalk which helped significantly with its usability,
    especially using AppleShare IP.</para>

    <para>These patches are still provided by many Unix vendors. All of these
    patches are included in the current SourceForge versions.</para>
  </sect1>

  <sect1>
    <title>Is there an RPM, package, or tarball for my platform?</title>

    <para>Perhaps. These vary in how often they're updated:</para>

    <para>FreeBSD port: /usr/ports/net/netatalk - maintained by Joe
    Clark</para>

    <para>SuSE Linux included in the distribution</para>

    <para>OpenBSD port: /usr/ports/net/netatalk/ - not actively
    maintained</para>

    <para>Debian GNU/Linux included in all current distributions</para>
  </sect1>

  <sect1>
    <title>What are the .AppleDouble and .Parent directories which are created
    in the Netatalk locations?</title>

    <para>The .AppleDouble folders hold the resource fork information for the
    Mac files, plus other attributes which are not normally stored by Unix.
    For this reason, when you want to move files around in your Mac volumes,
    it's a good idea to do it from the Mac side (as opposed to from the Unix
    side, or Samba), unless you make absolutely sure you get the .AppleDouble
    directories. These directories are often hidden from the Samba side, via
    the veto files configuration. You can also set Netatalk to not create an
    .AppleDouble directory unless it absolutely needs it, by setting the
    noadouble setting in AppleVolumes.default.</para>

    <para>For further information see the chapter about special folders in the
    manual.</para>
  </sect1>

  <sect1>
    <title>Netatalk works over AppleTalk, but my IP connections are refused,
    even though I have enabled them in the configuration files.</title>

    <para>If tcp_wrappers support is compiled into Netatalk, access has to be
    granted in /etc/hosts.allow for Netatalk to successfully accept IP
    connections. This can be done by the addition of the line:
    <programlisting>afpd:  127. xxx.xxx.xxx. (whatever other subnets)
</programlisting></para>

    <para>Previous version had a problem if the first IP-address in /etc/hosts
    was the local-loopback address. We believe this is fixed in this
    version.</para>
  </sect1>

  <sect1>
    <title>I'm having problems with the Trash folder: either when someone
    drags files into it, the system wants them to delete them immediately, or
    files get stuck in there and won't delete.</title>

    <para><command>chmod</command> the Network Trash folder to 2775
    (<filename>/home/public/Network Trash Folder</filename> for
    instance).</para>

    <para>Up to the current Panther (10.3.1) release, OS X does not use the
    Network Trash Folder. There's nothing we can do about it.</para>
  </sect1>

  <sect1>
    <title>The daemons aren't starting, things aren't showing up in the
    Chooser, and I get a message like this in the logs: afpd[####]: Can't
    register Tests:AFPServer@*</title>

    <para>Please make sure atalkd started and your platform supports
    AppleTalk.</para>

    <para>This is sometimes a result of missing NIC information in the
    atalkd.conf file. Put your network interface (something like le0, eth0,
    fxp0, lo0) alone on a line in atalkd.conf, and reboot. When atalkd starts,
    it will populate the file with a line such as:</para>

    <programlisting> le1 -seed -phase 2 -addr 66.6 -net 66-67 -zone "No Parking"</programlisting>

    <para>To find your network interface, run <screen><prompt>%</prompt><userinput>ifconfig -a | more</userinput></screen>and
    see which interface has your IP address. Use that one.</para>
  </sect1>

  <sect1>
    <title>I want to be able to allow users to change their passwords. How do
    I enable this feature? Every time I try I get an error that it was unable
    to save the password.</title>

    <para>Use <option>-[no]setpassword</option> in
    <filename>afpd.conf</filename>. This enables or disables the ability of
    clients to change their passwords.</para>
  </sect1>

  <sect1>
    <title>Can I mount a Mac volume on my Unix machine?</title>

    <para>Well, maybe. MacOS X obviously might be able to do this with
    NFS.</para>

    <para>Sometime ago there was a linux kernel module called afpfs that
    supported this. It has never been ported to the more recent 2.2 and 2.4
    kernels.</para>

    <para>It might still be available from:</para>

    <para>http://www.panix.com/~dfoster/afpfs/</para>
  </sect1>

  <sect1>
    <title>Can I run Samba and Netatalk together to access the same
    files?</title>

    <para>Sure. Lots of us do. But there are some concerns. Quite often it's
    useful, for instance, to hide files of one OS from the other. See the
    AppleVolumes.default file in Netatalk, and investigate the veto files
    option in Samba. (See the README.veto file.)</para>

    <para>Also, when copying and moving files created on the Mac, it's better
    to do that from the Mac, rather than from the Unix server or from Samba.
    This is because the .AppleDouble folders hold the resource fork
    information for the Mac files, plus other attributes which are not
    normally stored by Unix.</para>

    <para>You can also set Netatalk to not create an .AppleDouble directory
    unless it absolutely needs it, by setting the noadouble setting in
    AppleVolumes.default.</para>
  </sect1>

  <sect1>
    <title>How can I set Netatalk to hide some files created on the Samba (or
    Unix) sides?</title>

    <para>AppleVolumes.default allows you to hide certain files.</para>

    <para>This might be a good thing to set on, say, .cshrc, ssh keys, and the
    like.</para>
  </sect1>
</chapter>
